<div class="invite">
    <h3>Invite People</h3>
    <button @onclick="Close" class="close">X</button>
    <div>
        <input placeholder="email" @bind="InviteEmail"/>
        <button @onclick="SendInvite">Send Invite</button>
    </div>
    <div>
        <h5>Participants</h5>
        @if(Group != null)
        {

@*            List<RoomUser> users = Group.Users.ToList();
            @foreach(var user in users)
            {
                <div>@user.Name; 
            }*@
        }
    </div>
    <h6 @onclick="CopyLink">Copy & Share Link</h6>
    <div>
        <div>room.ibis.com/ratio-view-wing</div>
        <span>copy</span>
    </div>
</div>


@code {
    bool Sent = false;
    string InviteEmail;
    RoomUsersResponse Group;

    [Parameter] 
    public string RoomId { get; set; }
    [CascadingParameter] 
    BlazoredModalInstance ModalInstance { get; set; } = default!;


    protected override async Task OnInitializedAsync() => Group = await Api.GetRoomUsersAsync(RoomId);

    async Task SendInvite() => Sent = await Api.InviteUserAsync(new InviteUserRequest { RoomId = RoomId, Email = InviteEmail });

    async Task CopyLink()
    {
    //
    }

    void Close() => ModalInstance.CancelAsync();
}